{"version":3,"file":"main.js","mappings":";;UAAA;UACA;;;;;WCDA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;;;;;;;;;;;ACAA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;ACjBsC;AACtC;AACO;AACP;AACO;AACP,CAAC,UAAM;AACP;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,SAAS;AACZ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,GAAG;AACH,EAAE;AACF;;;AC5BmD;AAChB;AAC4B;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,OAAO;AACR;AACA;AACO;AACP;AACA,EAAE,UAAM;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE,UAAM;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,UAAM;AACb;AACA;AACA,8DAA8D;AAC9D;AACA;AACA;AACA,wBAAwB,aAAa;AACrC,wBAAwB,IAAI;AAC5B,wBAAwB,KAAK;AAC7B;AACA;AACA,GAAG,aAAa;AAChB,GAAG,aAAa;AAChB;AACA;AACA,IAAI,SAAS;AACb,KAAK;AACL,IAAI,SAAS;AACb;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;;;ACjFmD;AAChB;AAC4B;AAC/D;AACA;AACA,SAAS,iCAAY;AACrB;AACA,CAAC,OAAO;AACR;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,UAAM;AACZ,uBAAuB,IAAI;AAC3B,uBAAuB,KAAK;AAC5B,uBAAuB,aAAa;AACpC;AACA;AACA;AACA;AACA,EAAE,iCAAY;AACd;AACA,EAAE,aAAa;AACf,EAAE,aAAa;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,EAAE,SAAS;AACX;AACA;;;AClDqB;AACgB;AACW;AAIjB;AAC+B;AAC9D;AACO,IAAI,UAAM;AACV;AACA;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,SAAS;AACT,CAAC,UAAM;AACP,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,qBAAqB,aAAa;AAClC;AACA,CAAC,UAAM;AACP,wCAAwC,eAAe;AACvD;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,IAAI;AACJ;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,qCAAqC,UAAM;AAC3C;AACA;AACA;AACA;AACA,oCAAoC,UAAM,WAAW,UAAM;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,oBAAoB;AACtB,EAAE,mBAAmB;AACrB,EAAE,2BAA2B;AAC7B,EAAE;AACF;AACA;AACA;AACA,CAAC,mBAAmB;AACpB,CAAC,2BAA2B;AAC5B;AACA;AACA;AACA,CAAC,aAAa;AACd;AACA;AACA;AACA;AACA;AACA","sources":["webpack://gallery/webpack/bootstrap","webpack://gallery/webpack/runtime/define property getters","webpack://gallery/webpack/runtime/hasOwnProperty shorthand","webpack://gallery/./src/pubsub.js","webpack://gallery/./src/createCircles.js","webpack://gallery/./src/createDeleteButtons.js","webpack://gallery/./src/handleImageSelection.js","webpack://gallery/./src/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const subscribers = {};\r\n\r\nexport function subscribe(event, callback) {\r\n\tif (!subscribers[event]) {\r\n\t\tsubscribers[event] = [];\r\n\t}\r\n\r\n\tsubscribers[event].push(callback);\r\n}\r\n\r\nexport function publish(event, data) {\r\n\tconst eventSubscribers = subscribers[event];\r\n\tif (eventSubscribers) {\r\n\t\teventSubscribers.forEach((callback) => {\r\n\t\t\tcallback(data);\r\n\t\t});\r\n\t}\r\n}\r\n","import { images, showImage } from '.';\r\n\r\nexport const circlesParent = document.querySelector('.nav-circles-container');\r\n\r\nexport function createCircles() {\r\n\timages.forEach(() => {\r\n\t\tconst circle = document.createElement('div');\r\n\t\tcircle.classList.add('nav-circle');\r\n\t\tcirclesParent.appendChild(circle);\r\n\t});\r\n\r\n\tconst circles = document.querySelectorAll('.nav-circle');\r\n\tif (circles.length > 0) {\r\n\t\tcircles[0].classList.add('active-circle');\r\n\t}\r\n\r\n\tcircles.forEach((circle, index) => {\r\n\t\tcircle.addEventListener('click', () => {\r\n\t\t\tshowImage(index, 'show');\r\n\r\n\t\t\tcircles.forEach((otherCircle, otherIndex) => {\r\n\t\t\t\tif (otherIndex !== index) {\r\n\t\t\t\t\totherCircle.classList.remove('active-circle');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tcircle.classList.add('active-circle');\r\n\t\t});\r\n\t});\r\n}\r\n","import { images, showImage, left, right } from '.';\r\nimport { publish } from './pubsub';\r\nimport { createCircles, circlesParent } from './createCircles';\r\n\r\nlet deleteButtons;\r\n\r\n//Pub\r\nfunction updateImages() {\r\n\tconst newImages = document.querySelectorAll('.slide');\r\n\tpublish('imagesUpdated', newImages);\r\n}\r\n\r\nexport function createDeleteButtons() {\r\n\tif (deleteButtons === null || deleteButtons === undefined) {\r\n\t\timages.forEach((image) => {\r\n\t\t\tconst deleteButton = document.createElement('span');\r\n\t\t\tdeleteButton.classList.add(\r\n\t\t\t\t'material-symbols-outlined',\r\n\t\t\t\t'delete-button'\r\n\t\t\t);\r\n\t\t\tdeleteButton.textContent = 'delete';\r\n\t\t\timage.appendChild(deleteButton);\r\n\t\t});\r\n\t} else {\r\n\t\tdeleteButtons = document.querySelectorAll('.delete-button');\r\n\t\tconst deleteButtonsArray = Array.from(deleteButtons);\r\n\t\tdeleteButtonsArray.forEach((button) => {\r\n\t\t\tconst parentSlide = button.parentNode;\r\n\t\t\tparentSlide.removeChild(button);\r\n\t\t});\r\n\t\timages.forEach((image) => {\r\n\t\t\tconst deleteButton = document.createElement('span');\r\n\t\t\tdeleteButton.classList.add(\r\n\t\t\t\t'material-symbols-outlined',\r\n\t\t\t\t'delete-button'\r\n\t\t\t);\r\n\t\t\tdeleteButton.textContent = 'delete';\r\n\t\t\timage.appendChild(deleteButton);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction getDeleteButtons() {\r\n\tdeleteButtons = document.querySelectorAll('.delete-button');\r\n}\r\n\r\nexport function addListenersToDeleteButtons() {\r\n\tgetDeleteButtons();\r\n\r\n\tdeleteButtons.forEach((button, index) => {\r\n\t\tbutton.addEventListener('click', () => {\r\n\t\t\tconst parentSlide = button.parentNode;\r\n\t\t\tconst gallery = parentSlide.parentNode;\r\n\t\t\tgallery.removeChild(parentSlide);\r\n\t\t\tupdateImages();\r\n\r\n\t\t\tif (images.length === 0) {\r\n\t\t\t\tconst emptyGallery = document.createElement('div');\r\n\t\t\t\temptyGallery.classList.add('empty-gallery');\r\n\t\t\t\t/* emptyGallery.textContent = 'Your gallery is empty ðŸ˜­'; */\r\n\t\t\t\temptyGallery.textContent =\r\n\t\t\t\t\t' Houston, we have an empty gallery! ðŸš€';\r\n\t\t\t\tgallery.appendChild(emptyGallery);\r\n\t\t\t\tgallery.removeChild(circlesParent);\r\n\t\t\t\tgallery.removeChild(left);\r\n\t\t\t\tgallery.removeChild(right);\r\n\t\t\t}\r\n\r\n\t\t\tcirclesParent.innerHTML = '';\r\n\t\t\tcreateCircles('delete');\r\n\r\n\t\t\tif (index === 0) {\r\n\t\t\t\tshowImage(0);\r\n\t\t\t} else {\r\n\t\t\t\tshowImage(index - 1, 'remove');\r\n\t\t\t}\r\n\r\n\t\t\tcreateDeleteButtons();\r\n\t\t\taddListenersToDeleteButtons();\r\n\t\t});\r\n\t});\r\n}\r\n","import { images, showImage, left, right } from '.';\r\nimport { publish } from './pubsub';\r\nimport { createCircles, circlesParent } from './createCircles';\r\n\r\n//Pub\r\nfunction updateImages() {\r\n\tconst newImages = document.querySelectorAll('.slide');\r\n\tpublish('imagesUpdated', newImages);\r\n}\r\n\r\nexport function handleImageSelection(event) {\r\n\tconst selectedImage = event.target.files[0];\r\n\tconst gallery = document.querySelector('#gallery');\r\n\r\n\tif (selectedImage) {\r\n\t\tconst img = document.createElement('img');\r\n\t\tconst imageURL = URL.createObjectURL(selectedImage);\r\n\t\timg.src = imageURL;\r\n\t\timg.classList.add('img');\r\n\t\tconst slide = document.createElement('div');\r\n\t\tslide.classList.add('slide');\r\n\t\tslide.classList.add('new-image');\r\n\t\tslide.appendChild(img);\r\n\t\tgallery.appendChild(slide);\r\n\r\n\t\tif (images.length === 0) {\r\n\t\t\tgallery.appendChild(left);\r\n\t\t\tgallery.appendChild(right);\r\n\t\t\tgallery.appendChild(circlesParent);\r\n\t\t\tconst emptyGallery = document.querySelector('.empty-gallery');\r\n\t\t\tgallery.removeChild(emptyGallery);\r\n\t\t}\r\n\r\n\t\tupdateImages();\r\n\r\n\t\tcirclesParent.innerHTML = '';\r\n\t\tcreateCircles();\r\n\r\n\t\tconst circles = document.querySelectorAll('.nav-circle');\r\n\t\tcircles[circles.length - 1].classList.add('active-circle');\r\n\r\n\t\t//Show loading spinner\r\n\t\tconst spinner = document.querySelector('.loading-spinner');\r\n\t\tspinner.classList.add('load');\r\n\t\tsetTimeout(() => {\r\n\t\t\tspinner.classList.remove('load');\r\n\t\t}, 1500);\r\n\r\n\t\tshowImage(circles.length - 1, 'show');\r\n\t}\r\n}\r\n","import './style.css';\r\nimport { subscribe } from './pubsub';\r\nimport { createCircles } from './createCircles';\r\nimport {\r\n\tcreateDeleteButtons,\r\n\taddListenersToDeleteButtons,\r\n} from './createDeleteButtons';\r\nimport { handleImageSelection } from './handleImageSelection';\r\n\r\nexport let images = document.querySelectorAll('.slide');\r\nexport const left = document.getElementById('left');\r\nexport const right = document.getElementById('right');\r\nconst addImage = document.getElementById('image-input');\r\nconst gitHubIcon = document.querySelector('.fa-github');\r\n\r\n//Github icon animation\r\ngitHubIcon.addEventListener('mouseover', () => {\r\n\tgitHubIcon.classList.remove('mouseout');\r\n\tgitHubIcon.classList.add('rotate');\r\n});\r\ngitHubIcon.addEventListener('mouseout', () => {\r\n\tgitHubIcon.classList.remove('rotate');\r\n\tgitHubIcon.classList.add('mouseout');\r\n});\r\n\r\n//Subscribe for images update\r\nsubscribe('imagesUpdated', (newImages) => {\r\n\timages = newImages;\r\n});\r\n\r\n//Show image\r\nlet currentIndex = 0;\r\nlet transformValue;\r\nlet previousTransformValue = 0;\r\n\r\nexport function showImage(index, callingContext) {\r\n\tcurrentIndex = index;\r\n\ttransformValue = `${-index * 100}%`;\r\n\r\n\timages.forEach((image, i) => {\r\n\t\timage.style.transform = `translateX(${transformValue})`;\r\n\t\tconst circles = document.querySelectorAll('.nav-circle');\r\n\t\tif (i === index) {\r\n\t\t\timage.classList.add('switch-animation');\r\n\t\t\tcircles[index].classList.add('active-circle');\r\n\t\t} else {\r\n\t\t\timage.classList.remove('switch-animation');\r\n\t\t}\r\n\r\n\t\tcircles.forEach((otherCircle, otherIndex) => {\r\n\t\t\tif (otherIndex !== index) {\r\n\t\t\t\totherCircle.classList.remove('active-circle');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (callingContext === 'show') {\r\n\t\t\tif (\r\n\t\t\t\tparseFloat(transformValue) -\r\n\t\t\t\t\tparseFloat(previousTransformValue) <=\r\n\t\t\t\t\t-400 ||\r\n\t\t\t\tparseFloat(transformValue) -\r\n\t\t\t\t\tparseFloat(previousTransformValue) >=\r\n\t\t\t\t\t400\r\n\t\t\t) {\r\n\t\t\t\timage.style.transitionDuration = '1.5s';\r\n\t\t\t} else {\r\n\t\t\t\timage.style.transitionDuration = '0.4s';\r\n\t\t\t}\r\n\t\t} else if (callingContext === 'remove') {\r\n\t\t\timage.style.transitionDuration = '0.4s';\r\n\t\t}\r\n\t});\r\n\tpreviousTransformValue = transformValue;\r\n}\r\n\r\nfunction showNextImage() {\r\n\tcurrentIndex = (currentIndex + 1) % images.length;\r\n\tshowImage(currentIndex, 'show');\r\n}\r\n\r\nfunction showPrevImage() {\r\n\tcurrentIndex = (currentIndex - 1 + images.length) % images.length;\r\n\tshowImage(currentIndex, 'show');\r\n}\r\n\r\nfunction addListenersForLeftAndRight() {\r\n\tleft.addEventListener('click', showPrevImage);\r\n\tright.addEventListener('click', showNextImage);\r\n}\r\n\r\nfunction addListenersForImageInput() {\r\n\taddImage.addEventListener('input', (event) => {\r\n\t\thandleImageSelection(event);\r\n\t\tcreateDeleteButtons();\r\n\t\taddListenersToDeleteButtons();\r\n\t});\r\n}\r\n\r\nfunction addDeleteButtons() {\r\n\tcreateDeleteButtons();\r\n\taddListenersToDeleteButtons();\r\n}\r\n\r\nfunction initialize() {\r\n\tcreateCircles();\r\n\taddDeleteButtons();\r\n\taddListenersForLeftAndRight();\r\n\taddListenersForImageInput();\r\n}\r\n\r\ninitialize();\r\n"],"names":[],"sourceRoot":""}